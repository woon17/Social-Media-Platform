<div class="container">


  <div class="card text-center">
    <div id="create-post">
      <button (click)="createPost()" class="btn btn-info mb-2">
        Create Post
      </button>
    </div>
    <div class="col-md-12">
      <pagination-controls previousLabel="Prev" nextLabel="Next" [responsive]="true"
        (pageChange)="handlePageChange($event)"></pagination-controls>
    </div>

    <div class="col-md-6">
      <div class="list-group">
        <div *ngFor="
            let post of posts | paginate : {
                    itemsPerPage: pageSize,
                    currentPage: page,
                    totalItems: count
                  };
            let i = index
          " [class.active]="i == currentIndex">
        </div>
      </div>
    </div>
    <!-- <h1>You are Admin</h1> -->
    <!-- <img src="http://localhost:8081/files/shufa3/53/github.png" alt="test picture" width="500" height="600"> -->
    <div class="card-body">
      <table class="table">
        <!-- <thead>
          <th>No.</th>
          <th>caption</th>
          <th>link</th>
          <th>views</th>
          <th>created by</th>
        </thead> -->
        <tbody>
          <!-- <tr *ngFor="let post of posts; index as i">
            <td>{{i + 1}}</td>
            <td>{{post.caption}}</td>
            <td><img src="http://localhost:8081/files/{{post.link}}" width="500" height="600"></td>
            <td>{{post.views}}</td>
            <td>{{post.user?.userName}}</td>
            <td>
              <button (click)="updatePost(post.id)" class="btn btn-info" style="margin-right: 5px;"
                *ngIf="matchRole(['Admin']) || (getUserName()===post.user?.userName)">
                Update Post
              </button>
              <button (click)="deletePost(post.id)" class="btn btn-info" *ngIf="matchRole(['Admin'])">
                Delete
              </button>
            </td>
          </tr> -->
          <tr *ngFor="let post of posts; index as i">
            <div class="card text-center post mb-2" (click)='increaseView(post.id)'>
              <ul class="post-ul">
                <!-- <li>{{i + 1}}</li> -->
                <li class="post-caption">{{post.caption}}</li>
                <!-- <li>{{post.type}}</li> -->
                <li><img src="http://localhost:8081/files/{{post.link}}" width="200" height="200"></li>
                <li>Views: {{post.views}}</li>
                <li>By: {{post.user?.userName}}</li>
                <li>
                  <button (click)="updatePost(post.id)" class="btn btn-info" style="margin-right: 5px;"
                    *ngIf="matchRole(['Admin']) || (getUserName()===post.user?.userName)">
                    Update Post
                  </button>
                  <button (click)="deletePost(post.id)" class="btn btn-info" *ngIf="matchRole(['Admin'])">
                    Delete
                  </button>
                </li>
              </ul>
            </div>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-12">
      <pagination-controls previousLabel="Prev" nextLabel="Next" [responsive]="true"
        (pageChange)="handlePageChange($event)"></pagination-controls>
    </div>
    <div class="col-md-6">
      <div class="list-group">
        <div *ngFor="
            let post of posts | paginate : {
                    itemsPerPage: pageSize,
                    currentPage: page,
                    totalItems: count
                  };
            let i = index
          " [class.active]="i == currentIndex">
        </div>
      </div>
    </div>
  </div>
</div>
